<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>example</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
<link rel="stylesheet" href="res/showloading/css/showLoading.css">
<link rel="stylesheet" href="res/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet" href="res/bootstrap/css/font-awesome.min.css">
<script src="res/jquery.min.js"></script>
<script src="res/bootstrap/js/bootstrap.min.js"></script>
<script src="res/showloading/js/jquery.showLoading.min.js"></script>
<script src="js/f.dg.js"></script>
<script src="js/f.input.js"></script>
</head>
<body>
<div class="container">
	<h1>example：input数字 input文本 input时间 datagrid</h1>
	<hr/>
	<div class="panel panel-default">
		<div class="panel-body">
			<h3>依赖：</h3>
			font-awesome<br/>
			jquery 1.11<br/>
			bootstrap 3<br/>
			jquery.showLoading.js<br/>
		</div>
	</div>
	<h3>1.f_input_text</h3>
	<input id="input_text" class="form-control"/>
	<pre>
		var input_text = $("#input_text").f_input_text({
			required:true,//input不能为空调用isValid方法验证
			errMsg:'输入格式不正确',//错误提示信息
			hint:'例如：a123456',//input提示信息
			errDir:'top',//错误提示方向
			regex:'^[a\b\c]\d*',//文本需要匹配的正则表达式 字符串形式 regex对象不支持
			maxLength: 10,//文本最大长度
			minLength: 1,//文本最小长度
			blur:function(){input_text.f_input_text('isValid')}
		});
	</pre>
	
	<input f-type="text" class="form-control" f-options="required:false,errMsg:'输入错误',maxLength:5,minLength:3,blur:function(){this.f_input_text('isValid')}"/>
	<pre>
		&lt;input f-type="text" class="form-control" f-options="required:false,errMsg:'输入错误',maxLength:5,minLength:3,
		blur:function(){this.f_input_text('isValid')}"/&gt;
	</pre>
	<h3>2.f_input_number</h3>
	<input id="input_number" class="form-control"/>
	<pre>
		var input_number = $("#input_number").f_input_number({
			required:false,
			errMsg:'输入正确数字',
			hint:'',
			precision:2,//保留几位小数
			min:-10,//最大值
			max:10.25,//最小值
			blur:function(){this.f_input_number("isValid")}
		});
	</pre>
	<input f-type="number" class="form-control" f-options="required:true,errMsg:'输入正确数字',precision:2,min:-10,hint:'',errDir:'bottom',max:10.25,blur:function(){this.f_input_number('isValid')}"/>
	<pre>
		&lt;input class="form-control" f-type="number" f-options="required:true,errMsg:'输入正确数字',hint:'',
		precision:2,min:-10,max:10.25,blur:function(){this.f_input_number("isValid")}"/&gt;
	</pre>
	<h3>3.f_input_datepicker</h3>
	<input f-type="datepicker" class="form-control" f-options="hint:'输入时间',errMsg:undefined,months:[],defDate:new Date(),years:[],dsep:'-',tsep:':',sep:' ',select:function(){}"/>
	<pre>
		&lt;input f-type="datepicker" f-options="required:false,errMsg:undefined,hint:undefined,months:[],
		defDate:new Date(),years:[],dsep:'-',tsep:':',sep:' ',select:function(){}"/&gt;
		<br/>
		$("#").f_input_datepicker({
			required:false,
			errMsg:undefined,
			hint:undefined,
			blur:function(){},
			months:[],//月份列表[1,2,3,4,5,6,7]
			defDate:new Date(),
			years:[],//年列表[2014,2015]
			dsep:'-',//日期分隔符
			tsep:':',//时间分隔符
			sep:' ',//日期时间分隔符
			select:function(){}//点击确定选中时间时触发的方法
		});
	</pre>
	<h3>4.f_input_combobox</h3>
	<p>
		combobox 支持数据过滤 ajax数据过滤（查询条件最后跟空格）
	</p>
	<input class="form-control" f-type="input_combobox" f-options="required:true,hint:'not empty',url:'test_combobox.json',blur:function(){this.f_input_combobox('isValid')}"/>
	<pre>
		&lt;input class="form-control" f-type="input_combobox" f-options="required:true,hint:'not empty',
		url:'test_combobox.json',blur:function(){this.f_input_combobox('isValid')}"/&gt;
	</pre>
	
	<input id="input_combobox" class="form-control"/>
	<pre>
		$("#input_combobox").f_input_combobox({
		required:false,
		errMsg:undefined,
		blur:function(){},
		hint:'本地数据',
		before:function(param){},//ajax请求前调用
		filter:function(data){return data;},
		url:'',//数据地址
		datas:[],//本地数据
		textField:'k',
		valueField:'v',
		queryField:'q',
		select:function(option){}
	})
	</pre>
	<h3>5.f_combobox</h3>
	<select f-type="combobox" class="form-control" f-options="url:'test_combobox.json'"></select>
	<pre>
		$("#id").f_combobox({
			required:false,
			datas:[],
			errMsg:undefined,
			hint:undefined,
			before:function(param){},
			filter:function(data){return data;},
			valueField:'v',
			textField:'k'
		})
	</pre>
	<h3>6.datagrid:f_dg</h3>
	<p>
		$("#").f_dg({})支持列排序，改变列宽，行单击，行双击，check
	</p>
	<div class="container">
		<div id="dg"></div>	
	</div>
	<br/>
	<pre>
		$("#dg").f_dg({
			fitColumn:false,//true，width属性生效
			check:false,//显示选择框
			columns:[],//title,field,showTip,sort,formatter,width
			page:1,//页数
			url:'',//ajax地址
			method:'GET',//ajax请求方式
			rows:20,//每页行数
			pages:[20,50,100,500,1000],
			defParam:{},//默认请求参数
			click:function(index,data){
			},
			dblclick:function(index,data){
			},
			before:function(param){
			},//ajax请求前调用
			filter:function(data){
				return data;
			},//ajax请求成功调用
			pagination:false,//是否分页
			datas:{rows:[],count:0},//本地静态数据
			rownumber:false,//显示行数
			lazy:false,//数据懒加载
			loadTip:'处理中...'//加载中的提示
	})
	</pre>
<br/>
<br/>
<br/>
	
<script type="text/javascript">
$(function(){
	beginEdit = function(index){
		dg.f_dg("beginEdit",index);
	}
	endEdit = function(index){
		dg.f_dg("endEdit",index);
	}
	celEdit = function(index){
		dg.f_dg("celEdit",index);
	}
	var input_text = $("#input_text").f_input_text({
		required:true,
		errMsg:'输入格式不正确',
		hint:'例如：a123456',
		errDir:'top',
		regex:'^[a\b\c]\d*',
		maxLength: 10,
		minLength: 1,
		blur:function(){input_text.f_input_text('isValid')}
	});
	var input_number = $("#input_number").f_input_number({
		required:false,
		errMsg:'输入正确数字',
		hint:'',
		errDir:'bottom',
		precision:2,
		min:-10,
		max:10.25,
		blur:function(){this.f_input_number("isValid")}
	});
	$("#input_combobox").f_input_combobox({
		required:false,
		errMsg:undefined,
		blur:function(){},
		hint:'本地数据',
		before:function(param){},
		filter:function(data){return data;},
		url:'',
		datas:[{k:'123456',v:1},{k:'abcdefg',v:2},{k:'你好',v:3},{k:'helloworld',v:4},{k:'f5',v:5},{k:'f6',v:6}],
		textField:'k',
		valueField:'v',
		queryField:'q',
		select:function(option){}
	});
	var dg = $("#dg").f_dg({
		fitColumn:true,
		check:true,
		rownumber:true,
		columns:[{
        	field:"id",title:"商品id",width:20,editor:'text'
        },{
        	field:"sku",title:"商品货号",width:20,editor:{type:'combobox',options:{datas:[{k:'123456',v:1},{k:'abcdefg',v:2},{k:'你好',v:3},{k:'helloworld',v:4},{k:'f5',v:5},{k:'f6',v:6}]}}
        },{
        	field:"goodsName",title:"商品名称",width:120,sort:true,editor:'text'
        },{
        	field:"isSale",title:"状态",width:20,formatter:function(value){value=parseInt(value);if(value==1){return '上架'}else if(value==2){return '下架'} else {return '删除'}},editor:{type:'select',options:{datas:[{k:'上架',v:1},{k:'下架',v:2}]}}
        },{
        	field:"price",title:"价格",width:40,editor:'number'
		},{
        	field:"marketPrice",title:"市场价格",width:20,editor:{type:'number',options:{precision:2}}
		},{
        	field:"createtime",title:"创建时间",width:20,editor:'datepicker'
		},{
        	field:"modifytime",title:"修改时间"
		},{
			field:"btn1",title:"操作",formatter:function(v,rowData,rowIndex){
				return '<button onclick="beginEdit('+rowIndex+')">编辑</button><button onclick="celEdit('+rowIndex+')">取消</button><button onclick="endEdit('+rowIndex+')">保存</button>'
			}
		}],//title,field,showTip,sort,formatter,width
		url:'test_dg.json',
		page:1,
		rows:20,
		pages:[20,50,100,500,1000],
		defParam:{},
		click:function(index,data){
		},
		dblclick:function(index,data){
		},
		before:function(param){
		},
		filter:function(data){
			return data;
		},
		pagination:true,
		endEdit:function(index,data,changes){
			console.log(changes);
			return true;
		},
		datas:{rows:[],count:0},
		lazy:false,
		loadTip:'处理中...'
	});
});
</script>
</div>
</body>
</html>